<Ui>
    <!Script file="Test.lua"/>
    
    <Frame name="Template_Child" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parent_Pin" relativePoint="TOPLEFT"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="$parent_Pin" relativePoint="BOTTOMRIGHT"/>
        </Anchors>
        <Frames>
            <Frame name="$parent_Child">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER"/>
                </Anchors>
            </Frame>
        </Frames>
    </Frame>
    
    <Frame name="Test" parent="UIParent" hidden="false" movable="true" resizable="true" enableMouse="true" clampedToScreen="true">
        <Size>
            <AbsDimension x="400" y="400"/>
        </Size>
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT">
                <Offset>
                    <AbsDimension x="0" y="10"/>
                </Offset>
            </Anchor>
        </Anchors>
        <Backdrop bgFile="Interface/BaseUI/BaseUI_Test/UI-DialogBox-Background.png" edgeFile="Interface/BaseUI/BaseUI_Test/UI-DialogBox-Border.png" tile="true">
            <BackgroundInsets>
                <AbsInset left="8" right="8" top="8" bottom="8"/>
            </BackgroundInsets>
        </Backdrop>
        <HitRectInsets>
            <AbsInset left="5" right="5" top="5" bottom="5"/>
        </HitRectInsets>
        <TitleRegion>
            <Size>
                <AbsDimension x="100" y="30"/>
            </Size>
            <Anchors>
                <Anchor point="TOP" relativePoint="TOP">
                    <Offset>
                        <AbsDimension x="0" y="-10"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </TitleRegion>
        <Frames>
            <Frame name="$parentResizeZoneTL" enableMouse="true">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="5" y="5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Frame>
            <Frame name="$parentResizeZoneTR" enableMouse="true">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                        <Offset>
                            <AbsDimension x="5" y="5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Frame>
            <Frame name="$parentResizeZoneBR" enableMouse="true">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
                        <Offset>
                            <AbsDimension x="-5" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        this:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        Test:StartSizing("BOTTOMRIGHT");
                    </OnDragStart>
                    <OnDragStop>
                        Test:StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>
            </Frame>
            <Frame name="$parentResizeZoneBL" enableMouse="true">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="5" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        this:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        Test:StartSizing("BOTTOMLEFT");
                    </OnDragStart>
                    <OnDragStop>
                        Test:StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>
            </Frame>
            <Frame name="$parentResizeZoneL" enableMouse="true">
                <Size>
                    <AbsDimension x="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="$parentResizeZoneTL" relativePoint="BOTTOM"/>
                    <Anchor point="BOTTOM" relativeTo="$parentResizeZoneBL" relativePoint="TOP"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        this:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        Test:StartSizing("LEFT");
                    </OnDragStart>
                    <OnDragStop>
                        Test:StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>
            </Frame>
            <Frame name="$parentResizeZoneR" enableMouse="true">
                <Size>
                    <AbsDimension x="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="$parentResizeZoneTR" relativePoint="BOTTOM"/>
                    <Anchor point="BOTTOM" relativeTo="$parentResizeZoneBR" relativePoint="TOP"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        this:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        Test:StartSizing("RIGHT");
                    </OnDragStart>
                    <OnDragStop>
                        Test:StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>
            </Frame>
            <Frame name="$parentResizeZoneB" enableMouse="true">
                <Size>
                    <AbsDimension y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentResizeZoneBL" relativePoint="RIGHT"/>
                    <Anchor point="RIGHT" relativeTo="$parentResizeZoneBR" relativePoint="LEFT"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        this:RegisterForDrag("LeftButton");
                    </OnLoad>
                    <OnDragStart>
                        Test:StartSizing("BOTTOM");
                    </OnDragStart>
                    <OnDragStop>
                        Test:StopMovingOrSizing();
                    </OnDragStop>
                </Scripts>
            </Frame>
        </Frames>
        <Layers>
            <Layer level="BACKGROUND">
				<Texture name="$parentTitleBorder" file="Interface/BaseUI/BaseUI_Test/UI-DialogBox-Header.png">
					<Size>
						<AbsDimension x="160" y="32"/>
					</Size>
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-10"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0" bottom="0.6"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
                <FontString name="$parentTitleString" font="Fonts/Vera.ttf" fontHeight="12" justifyH="CENTER" text="Test">
					<Size>
						<AbsDimension x="140"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentTitleBorder" relativePoint="CENTER">
							<Offset>
								<AbsDimension x="0" y="13"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Color r="1" g="0.8196079" b="0"/>
					<Shadow>
						<Color r="0" g="0" b="0"/>
						<Offset x="1" y="-1"/>
					</Shadow>
				</FontString>
            </Layer>
        </Layers>
        <Scripts>
            <OnLoad>
                this:SetMinResize(64, 64);
            </OnLoad>
        </Scripts>
    </Frame>
</Ui>
